<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Padel Community Hub</title>
    <script
      src="https://accounts.google.com/gsi/client"
      async
      defer
    ></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="src/styles/base.css" />
    <link rel="stylesheet" href="src/styles/components.css" />
    <link rel="stylesheet" href="src/styles/views.css" />
    <link rel="stylesheet" href="src/styles/responsive.css" />
  </head>
  <body>
    <div id="authGate" class="auth-gate" hidden>
      <div class="auth-panel">
        <div class="auth-panel__tabs" role="tablist">
          <button
            type="button"
            class="auth-tab is-active"
            data-auth-view-target="login"
            role="tab"
            aria-selected="true"
          >
            Anmelden
          </button>
          <button
            type="button"
            class="auth-tab"
            data-auth-view-target="register"
            role="tab"
            aria-selected="false"
          >
            Registrieren
          </button>
        </div>
        <div class="auth-card" data-view="login">
          <h2>Willkommen zurück</h2>
          <p class="muted">
            Melde dich mit deiner E-Mail-Adresse an oder nutze deinen Google
            Account.
          </p>
          <form id="loginForm" class="auth-form" novalidate>
            <label>
              <span>E-Mail-Adresse</span>
              <input
                type="email"
                name="email"
                autocomplete="email"
                required
              />
            </label>
            <label>
              <span>Passwort</span>
              <input
                type="password"
                name="password"
                autocomplete="current-password"
                minlength="8"
                required
              />
            </label>
            <p class="form-error" role="alert" hidden></p>
            <button type="submit" class="primary auth-submit">Anmelden</button>
          </form>
          <div class="auth-divider" role="separator">
            <span></span>
            <p>oder</p>
            <span></span>
          </div>
          <div
            id="googleSignInButton"
            class="auth-google"
            data-client-id=""
          ></div>
          <p id="googleError" class="form-error" role="alert" hidden></p>
        </div>
        <div class="auth-card" data-view="register" hidden>
          <h2>Neues Konto anlegen</h2>
          <p class="muted">
            Registriere dich mit deiner E-Mail-Adresse und wähle ein sicheres
            Passwort.
          </p>
          <form id="registerForm" class="auth-form" novalidate>
            <label>
              <span>Vor- &amp; Nachname</span>
              <input
                type="text"
                name="displayName"
                autocomplete="name"
                placeholder="z. B. Lea Schmidt"
                required
              />
            </label>
            <label>
              <span>E-Mail-Adresse</span>
              <input
                type="email"
                name="email"
                autocomplete="email"
                required
              />
            </label>
            <label>
              <span>Passwort</span>
              <input
                type="password"
                name="password"
                autocomplete="new-password"
                minlength="8"
                required
              />
            </label>
            <label>
              <span>Passwort bestätigen</span>
              <input
                type="password"
                name="confirmPassword"
                autocomplete="new-password"
                minlength="8"
                required
              />
            </label>
            <p class="muted auth-hint">
              Das Passwort muss mindestens acht Zeichen lang sein und Buchstaben
              sowie Zahlen enthalten.
            </p>
            <p class="form-error" role="alert" hidden></p>
            <button type="submit" class="primary auth-submit">
              Konto erstellen
            </button>
          </form>
        </div>
      </div>
    </div>

    <div class="app-shell">
      <aside class="sidebar">
        <div class="brand">
          <div class="brand__icon">🎾</div>
          <div>
            <h1>Padel Community</h1>
            <p>Finde dein nächstes Match!</p>
          </div>
        </div>
        <nav class="sidebar__nav">
          <button class="nav-btn" data-target="dashboard">Community Dashboard</button>
          <button class="nav-btn" data-target="my-sessions">Meine Sessions</button>
          <button class="nav-btn active" data-target="my-appointments">
            Meine Termine
          </button>
          <button class="nav-btn" data-target="discover">Padel-Spots entdecken</button>
        </nav>
        <div class="sidebar__footer">
          <p class="muted">
            Tipp: Nutze Filter, um schnell die passenden Spiele nach Level und
            Ort zu finden.
          </p>
        </div>
      </aside>
      <main>
        <header class="topbar">
          <div class="topbar__intro">
            <h2 id="view-title">Meine Termine</h2>
            <p class="muted" id="view-description">
              Verwalte deine erstellten Matches, passe Details an und behalte
              alle Zusagen im Blick.
            </p>
          </div>
          <div class="user-menu" id="userMenu" hidden>
            <div class="user-menu__avatar" id="userAvatar" aria-hidden="true">
              👤
            </div>
            <div class="user-menu__details">
              <span id="userDisplayName"></span>
              <span id="userEmail" class="muted"></span>
            </div>
            <button type="button" id="logoutButton" class="button button--ghost">
              Abmelden
            </button>
          </div>
        </header>

        <section id="dashboard-view" class="view">
          <div class="stats-grid">
            <article class="stat-card">
              <h3>Aktive Matches</h3>
              <p class="stat-value" id="activeMatches">0</p>
              <p class="muted">Matches, denen du beitreten kannst</p>
            </article>
            <article class="stat-card">
              <h3>Verfügbare Plätze</h3>
              <p class="stat-value" id="openSpots">0</p>
              <p class="muted">Freie Plätze über alle Spiele</p>
            </article>
            <article class="stat-card">
              <h3>Community Tendenz</h3>
              <div class="trend-chip" id="communityTrend">+0</div>
              <p class="muted">Neue Zusagen in den letzten 24h</p>
            </article>
          </div>

          <section class="panel">
            <div class="panel__header">
              <h3>Bevorstehende Sessions</h3>
              <div class="filters">
                <select id="skillFilter">
                  <option value="all">Alle Levels</option>
                  <option value="Beginner">Beginner</option>
                  <option value="Intermediate">Intermediate</option>
                  <option value="Advanced">Advanced</option>
                </select>
                <select id="locationFilter">
                  <option value="all">Alle Orte</option>
                </select>
              </div>
            </div>
            <div id="eventsList" class="events-list"></div>
          </section>

          <section class="panel panel--history">
            <div class="panel__header">
              <h3>Vergangene Sessions</h3>
              <p class="muted">Letzte 14 Tage im Überblick</p>
            </div>
            <div id="eventsHistory" class="events-history"></div>
          </section>

          <section class="panel calendar">
            <div class="panel__header">
              <h3>Kalender</h3>
              <div class="calendar__controls">
                <button id="prevWeek">◀</button>
                <div id="calendarRange"></div>
                <button id="nextWeek">▶</button>
              </div>
            </div>
            <div id="calendarGrid" class="calendar__grid"></div>
          </section>
        </section>

        <section id="my-sessions-view" class="view">
          <section class="panel">
            <div class="panel__header">
              <h3>Deine zugesagten Sessions</h3>
              <p class="muted">
                Hier findest du alle Termine, denen du aktuell zugesagt hast.
              </p>
            </div>
            <div id="mySessionsList" class="events-list"></div>
          </section>
        </section>

        <section id="my-appointments-view" class="view active">
          <section class="panel">
            <div class="panel__header">
              <h3>Meine Termine</h3>
              <p class="muted">
                Übersicht über deine erstellten Matches inklusive aktueller Zu-
                und Absagen.
              </p>
            </div>
            <div id="ownerAlerts" class="alert-stack"></div>
            <div id="myAppointmentsList" class="events-list"></div>
          </section>
          <form id="eventForm" class="panel form" data-mode="create">
            <div class="form__header">
              <h3>Neuen Termin erstellen</h3>
              <p class="muted">
                Teile deinen geplanten Slot mit der Community und lass andere
                beitreten.
              </p>
            </div>

            <div class="form__grid">
              <label>
                <span class="label-text"
                  >Titel <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input type="text" name="title" placeholder="Morning Smash" required />
              </label>
              <label>
                <span class="label-text"
                  >Ort <span class="required-marker" aria-hidden="true">*</span></span
                >
                <select name="location" id="locationSelect" required></select>
              </label>
              <label class="full" id="customLocationWrapper" hidden>
                <span class="label-text"
                  >Eigener Ort
                  <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input
                  type="text"
                  name="customLocation"
                  id="customLocationInput"
                  placeholder="z. B. Padelhalle Barmbek"
                />
              </label>
              <label>
                <span class="label-text"
                  >Datum <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input type="date" name="date" required />
              </label>
              <label>
                <span class="label-text"
                  >Startzeit <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input type="time" name="time" required />
              </label>
              <label>
                <span class="label-text"
                  >Dauer (Stunden)
                  <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input type="number" name="duration" min="1" max="6" value="2" required />
              </label>
              <label>
                <span class="label-text"
                  >Gesamtkosten (€)
                  <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input
                  type="number"
                  name="totalCost"
                  min="0"
                  value="40"
                  step="0.01"
                  required
                />
              </label>
              <label>
                <span class="label-text"
                  >Benötigte Spieler
                  <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input type="number" name="capacity" min="2" max="8" value="4" required />
              </label>
              <label>
                Skill Level
                <select name="skill">
                  <option value="Beginner">Beginner</option>
                  <option value="Intermediate" selected>Intermediate</option>
                  <option value="Advanced">Advanced</option>
                </select>
              </label>
              <label>
                PayPal-Link (optional)
                <input
                  type="url"
                  name="paymentLink"
                  placeholder="https://paypal.me/deinprofil"
                  pattern="https?://.*"
                />
              </label>
              <label class="full">
                <span class="label-text"
                  >Zusage Deadline
                  <span class="required-marker" aria-hidden="true">*</span></span
                >
                <input type="datetime-local" name="deadline" required />
              </label>
              <label class="full">
                Zusätzliche Infos
                <textarea
                  name="notes"
                  rows="3"
                  placeholder="Bringe eigene Schläger mit, wir haben neue Bälle vor Ort."
                ></textarea>
              </label>
            </div>

            <div class="form__actions">
              <button type="submit" class="primary">Termin speichern</button>
              <button
                type="button"
                class="button button--ghost"
                id="cancelEditButton"
                hidden
              >
                Abbrechen
              </button>
            </div>
          </form>
        </section>

        <section id="discover-view" class="view">
          <section class="panel places">
            <div class="form__header">
              <h3>Padel-Spots in deiner Nähe</h3>
              <p class="muted">
                Entdecke beliebte Locations und buche direkt über den jeweiligen
                Anbieter.
              </p>
            </div>
            <div id="placesList" class="places__grid"></div>
          </section>
        </section>
      </main>
    </div>
    <script src="src/main.js" type="module"></script>
  </body>
</html>
